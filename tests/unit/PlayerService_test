from app.repositories.PlayerRepository import PlayerRepository
from app.services.PlayerService import PlayerService
import pytest

def test_add_player():
    repository = PlayerRepository()
    service = PlayerService(repository)
    
    player = service.add_player("Messi", 36, "Forward", "Argentina", 10)
    
    # Verifica se o jogador foi criado
    assert player.name == "Messi"
    assert player.age == 36
    assert player.position == "Forward"
    assert player.country == "Argentina"
    assert player.number == 10
    assert len(repository.find_all()) == 1